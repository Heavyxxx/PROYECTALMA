<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Docente — A.L.M.A.</title>
  <link rel="stylesheet" href="css/design-tokens.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/dashboard.css">
</head>
<body class="shell">
  <header class="topbar">
    <div class="brand">A.L.M.A. — Docente</div>
    <div><button id="btnLogout" class="btn btn-ghost">Cerrar sesión</button></div>
  </header>

  <div class="layout">
    <aside class="sidebar card">
      <div id="teacherGreeting" class="muted">Docente: <span class="user-name">Profesor</span></div>
      <hr />
  <div class="kpi-row mt-8" style="display:flex;gap:8px;">
        <div class="kpi card"><div class="value" id="groupsCount">0</div><div class="label">Grupos</div></div>
        <div class="kpi card"><div class="value" id="studentsCount">0</div><div class="label">Alumnos</div></div>
        <div class="kpi card"><div class="value" id="pendingCount">0</div><div class="label">Pendientes</div></div>
      </div>
    </aside>

    <main class="main">
      <div class="grid">
        <div class="main-col">
          <section class="card">
            <div class="card-header"><div style="font-weight:700">Grupos asignados</div><div><button id="exportReport" class="btn small">Exportar</button></div></div>
            <div class="card-body">
              <ul id="groupList" style="list-style:none;padding-left:0;margin:0"></ul>
            </div>
          </section>

          <section class="card" aria-labelledby="captureHeading">
            <div class="card-header"><div id="captureHeading" style="font-weight:700">Captura de calificaciones</div></div>
            <div class="card-body">
              <!-- Contenedor que usan los scripts: #teacherCapture (principal) y #gradeCaptureArea (compatibilidad) -->
              <div id="teacherCapture"></div>
              <div id="gradeCaptureArea" style="display:none"></div>
            </div>
          </section>

          <section class="card">
            <div class="card-header"><div style="font-weight:700">Asistencia</div></div>
            <div class="card-body"><div id="attendanceArea">No hay registros de asistencia.</div></div>
          </section>
        </div>

        <aside class="side-col">
          <section class="card">
            <div class="card-header"><div style="font-weight:700">Resumen</div></div>
            <div class="card-body"><div id="reportSummary">—</div></div>
          </section>

          <section class="card">
            <div class="card-header"><div style="font-weight:700">Acciones rápidas</div></div>
            <div class="card-body"><button id="btnQuickFail" class="btn small">Marcar faltas</button></div>
          </section>
        </aside>
      </div>
    </main>
  </div>

  <script src="js/api-mock.js"></script>
  <script src="js/toast.js"></script>
  <script src="js/app-motion.js"></script>
  <script src="js/alma-bot.js"></script>
  <script src="js/teacher.js"></script>
  <script>
    document.getElementById('btnLogout').addEventListener('click', ()=>{ sessionStorage.removeItem('alma_user'); window.location.href = 'index.html'; });
  </script>
</body>
</html>
